<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meñique</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: white;
            font-family: serif;
            color: black;
            overflow: hidden;
        }

        header {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            z-index: 1000;
            pointer-events: none;
        }

        .title {
            font-size: 2rem;
            font-weight: bold;
            pointer-events: auto;
        }

        .menu {
            text-align: right;
            pointer-events: auto;
        }

        .menu a {
            display: block;
            text-decoration: none;
            color: black;
            margin-bottom: 5px;
        }

        .home {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100vw;
            height: 100vh;
            pointer-events: none;
        }

        .floating {
            position: absolute;
            will-change: transform;
            transition: transform 0.1s ease-out;
            pointer-events: all;
        }

        .floating img {
            width: 150px;
            transition: transform 0.3s ease;
        }

        .floating img:hover {
            transform: scale(1.2);
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 0;
        }

        body.drawing header,
        body.drawing .floating {
            pointer-events: none !important;
        }
    </style>
</head>
<body>
    <canvas id="drawCanvas"></canvas>

    <header>
        <div class="title">Meñique</div>
        <div class="menu">
            <!--AUTHORS_MENU-->
        </div>
    </header>

    <div class="home">
        <!--FLOATING_BOOKS-->
    </div>

    <script>
        // Floating motion
        document.addEventListener("mousemove", (e) => {
            const { clientX, clientY } = e;
            const winWidth = window.innerWidth;
            const winHeight = window.innerHeight;

            document.querySelectorAll(".floating").forEach((el) => {
                const factor = parseFloat(el.dataset.factor || 0.01);
                const dx = (clientX - winWidth / 2) * factor;
                const dy = (clientY - winHeight / 2) * factor;
                el.style.transform = \`translate(\${dx}px, \${dy}px)\`;
            });
        });

        // Drawing on canvas
        const canvas = document.getElementById("drawCanvas");
        const ctx = canvas.getContext("2d");
        let drawing = false;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        resizeCanvas();
        window.addEventListener("resize", resizeCanvas);

        canvas.addEventListener("mousedown", (e) => {
            drawing = true;
            document.body.classList.add("drawing");
            ctx.beginPath();
            ctx.moveTo(e.clientX, e.clientY);
        });

        canvas.addEventListener("mouseup", () => {
            drawing = false;
            document.body.classList.remove("drawing");
        });

        canvas.addEventListener("mousemove", (e) => {
            if (!drawing) return;
            ctx.lineTo(e.clientX, e.clientY);
            ctx.strokeStyle = "black";
            ctx.lineWidth = 1;
            ctx.lineCap = "round";
            ctx.stroke();
        });
    </script>
</body>
</html>
